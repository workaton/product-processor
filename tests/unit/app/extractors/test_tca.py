from app.extractors import TcaExtractor
import pytest


class TestTcaExtractor:

    @pytest.fixture
    def extractor(self):
        return TcaExtractor()

    @pytest.mark.asyncio
    async def test_extract_iwxxm30(self, extractor):
        assert await extractor.extract(IWXXM30) == {}


IWXXM30 = b'''\
<MeteorologicalBulletin gml:id="uuid.90ecffd8-4076-4705-ab40-a43ce8e33739" xmlns="http://def.wmo.int/collect/2014" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://def.wmo.int/collect/2014 http://schemas.wmo.int/collect/1.2/collect.xsd"><meteorologicalInformation><TropicalCycloneAdvisory gml:id="uuid.5c86d139-9c6c-47b5-989b-a4edd842c8ec" permissibleUsage="OPERATIONAL" reportStatus="NORMAL" xmlns="http://icao.int/iwxxm/3.0" xmlns:aixm="http://www.aixm.aero/schema/5.1.1" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://icao.int/iwxxm/3.0 http://schemas.wmo.int/iwxxm/3.0/iwxxm.xsd"><issueTime><gml:TimeInstant gml:id="uuid.aa1b88fe-dc8d-4eff-8f6d-fc64310452a4"><gml:timePosition>2019-05-21T03:00:00Z</gml:timePosition></gml:TimeInstant></issueTime><issuingTropicalCycloneAdvisoryCentre><aixm:Unit gml:id="uuid.b82f9368-9a12-410e-a0b2-f0c2810ab93b"><aixm:timeSlice><aixm:UnitTimeSlice gml:id="uuid.ec08d500-94b5-4cc0-81d8-f0c98e224fe1"><gml:validTime/><aixm:interpretation>SNAPSHOT</aixm:interpretation><aixm:type>OTHER:TCAC</aixm:type><aixm:designator>KNHC</aixm:designator></aixm:UnitTimeSlice></aixm:timeSlice></aixm:Unit></issuingTropicalCycloneAdvisoryCentre><tropicalCycloneName><TropicalCyclone gml:id="uuid.be5415f9-9a16-4b9a-b4d2-95c003633320" xmlns="http://def.wmo.int/metce/2013"><name>ANDREA</name></TropicalCyclone></tropicalCycloneName><advisoryNumber>002</advisoryNumber><observation><TropicalCycloneObservedConditions gml:id="uuid.8faaeae8-c08e-430f-b814-9a8010d89b1f"><phenomenonTime><gml:TimeInstant gml:id="uuid.0d46b432-82aa-4a8f-a68d-ebc5b8595177"><gml:timePosition>2019-05-21T03:00:00Z</gml:timePosition></gml:TimeInstant></phenomenonTime><tropicalCyclonePosition><gml:Point axisLabels="Lat Long" gml:id="uuid.9e0a0834-1a63-45d9-9e80-b698db18c0ef" srsDimension="2" srsName="http://www.opengis.net/def/crs/EPSG/0/4326"><gml:pos>29.500 -68.700</gml:pos></gml:Point></tropicalCyclonePosition><movement>MOVING</movement><movementDirection uom="deg">360</movementDirection><movementSpeed uom="[kn_i]">10</movementSpeed><centralPressure uom="hPa">1006</centralPressure><maximumSurfaceWindSpeed uom="[kn_i]">35</maximumSurfaceWindSpeed></TropicalCycloneObservedConditions></observation><forecast><TropicalCycloneForecastConditions gml:id="uuid.d722cccf-1e7b-4e35-b6f0-30831b7706d4"><phenomenonTime><gml:TimeInstant gml:id="uuid.28e22f26-e900-4c7b-a89c-26a9ecf8f50a"><gml:timePosition>2019-05-21T15:00:00Z</gml:timePosition></gml:TimeInstant></phenomenonTime><tropicalCyclonePosition><gml:Point axisLabels="Lat Long" gml:id="uuid.8cd5df5e-6b90-4bb8-a64d-1615fea7246f" srsDimension="2" srsName="http://www.opengis.net/def/crs/EPSG/0/4326"><gml:pos>30.567 -68.300</gml:pos></gml:Point></tropicalCyclonePosition><maximumSurfaceWindSpeed uom="[kn_i]">40</maximumSurfaceWindSpeed></TropicalCycloneForecastConditions></forecast><forecast><TropicalCycloneForecastConditions gml:id="uuid.bb675350-9368-4b41-969e-e830ffebed30"><phenomenonTime><gml:TimeInstant gml:id="uuid.33f1c3b6-2a3d-467a-88fb-72f0a9f630c5"><gml:timePosition>2019-05-21T21:00:00Z</gml:timePosition></gml:TimeInstant></phenomenonTime><tropicalCyclonePosition><gml:Point axisLabels="Lat Long" gml:id="uuid.9d9209ac-f47b-4d3a-85fb-c4037f7bd9e3" srsDimension="2" srsName="http://www.opengis.net/def/crs/EPSG/0/4326"><gml:pos>30.917 -67.700</gml:pos></gml:Point></tropicalCyclonePosition><maximumSurfaceWindSpeed uom="[kn_i]">35</maximumSurfaceWindSpeed></TropicalCycloneForecastConditions></forecast><forecast><TropicalCycloneForecastConditions gml:id="uuid.8b638360-ee73-4f9d-955a-2d367df98dfc"><phenomenonTime><gml:TimeInstant gml:id="uuid.7731182e-6aba-44ff-a368-3ac25ec8e61f"><gml:timePosition>2019-05-22T03:00:00Z</gml:timePosition></gml:TimeInstant></phenomenonTime><tropicalCyclonePosition><gml:Point axisLabels="Lat Long" gml:id="uuid.4d367ecf-3e5d-451a-b557-b13413dc4286" srsDimension="2" srsName="http://www.opengis.net/def/crs/EPSG/0/4326"><gml:pos>31.150 -66.867</gml:pos></gml:Point></tropicalCyclonePosition><maximumSurfaceWindSpeed uom="[kn_i]">35</maximumSurfaceWindSpeed></TropicalCycloneForecastConditions></forecast><forecast><TropicalCycloneForecastConditions gml:id="uuid.1f4e2096-67d9-48cd-ac09-3f0abdad4e05"><phenomenonTime><gml:TimeInstant gml:id="uuid.7b35183e-d101-4297-90f8-4abc40e388c9"><gml:timePosition>2019-05-21T09:00:00Z</gml:timePosition></gml:TimeInstant></phenomenonTime><tropicalCyclonePosition><gml:Point axisLabels="Lat Long" gml:id="uuid.96101838-51eb-4ff3-a320-92232f36dbf7" srsDimension="2" srsName="http://www.opengis.net/def/crs/EPSG/0/4326"><gml:pos>30.100 -68.617</gml:pos></gml:Point></tropicalCyclonePosition><maximumSurfaceWindSpeed uom="[kn_i]">40</maximumSurfaceWindSpeed></TropicalCycloneForecastConditions></forecast><remarks>THE FORECAST POSITION INFORMATION IN THIS PRODUCT IS INTERPOLATED FROM OFFICIAL FORECAST DATA VALID AT 0000... 0600...1200...AND 1800Z.</remarks><nextAdvisoryTime><gml:TimeInstant gml:id="uuid.b795efee-398d-4687-99df-373d46145773"><gml:timePosition>2019-05-21T09:00:00Z</gml:timePosition></gml:TimeInstant></nextAdvisoryTime></TropicalCycloneAdvisory></meteorologicalInformation><bulletinIdentifier>A_LKNT21KNHC210043_C_KNHC_20190521004346.xml</bulletinIdentifier></MeteorologicalBulletin>
'''  # noqa: E501
